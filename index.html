<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Kê đơn</title>
	 <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.5.0/css/bootstrap4-toggle.min.css" rel="stylesheet">
    <style type="text/css">
    	.no-gutters {
  margin-right: 0;
  margin-left: 0;

  > .col,
  > [class*="col-"] {
    padding-right: 0;
    padding-left: 0;
  }
}
    </style>
    <script src="https://code.jquery.com/jquery-2.2.1.min.js" integrity="sha256-gvQgAFzTH6trSrAWoH1iPo9Xc96QxSZ3feW6kem+O00=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.5.0/js/bootstrap4-toggle.min.js"></script>
</head>
<body>

<div class="card">
 <div class="card-heading">Thông tin hành chính</div>
 <div class="card-body">
  	
  	<div class="row">
  	<div class="col-sm-10">
    <span class="badge badge-primary">Họ và tên</span>
    <input class="form-control" id="ten" placeholder="Họ và tên">
    </div>
    <div class="col-sm-2">
    <span class="badge badge-primary">Tuổi/ Năm sinh</span>
    <input type = "number" class="form-control" id="tuoi" placeholder="Tuổi hoặc năm sinh">
    </div>
    </div>

    <div class="row">
  	<div class="col-sm-8">
    <span class="badge badge-primary">Địa chỉ</span>
    <input class="form-control" id="diachi" placeholder="Địa chỉ">
    </div>
    <div class="col-sm-4">
    <span class="badge badge-primary">Số điện thoại</span>
    <input type = "tel" class="form-control" id="sdt" placeholder="Số điện thoại">
    </div>
    </div>

</div>
</div>

<div class="card">
  <div class="card-heading">Chẩn đoán</div>
  <div class="card-body">
  <div class="row">
  <div class="col-sm-6">
  	<span class="badge badge-primary">Mắt phải</span>
    <textarea class="form-control" id="cdMP" rows="1"></textarea>
  </div>
  <div class="col-sm-6">
    <span class="badge badge-primary">Mắt trái</span>
    <textarea class="form-control" id="cdMT" rows="1"></textarea>
  </div>
  <div class="col-sm-12">
    <span class="badge badge-primary">Hai mắt</span>
    <textarea class="form-control" id="cd2M" rows="1"></textarea>
  </div>
  <div class="col-sm-12">
    <span class="badge badge-primary">CĐ khác</span>
    <textarea class="form-control" id="cdKhac" rows="1"></textarea>
  </div>
  </div>
</div>
</div>

<div class="card">
  <div class="card-heading">Kê đơn</div>
  <div class="card-body">
  
  <div class="row no-gutters">
    <div class="col-8">
    <span class="badge badge-primary">Tên biệt dược</span>
    <input type = "text" class="form-control" id="tenthuoc" placeholder="">
  	</div>
    <div class="col-2">
    <span class="badge badge-primary">Số lượng</span>
    <input type = "number" class="form-control" id="soluong" placeholder="">
    <div id = "donvi">đơn vị</div>
    </div>
    <div class="col-2">
    <span class="badge badge-primary">Trong kho</span>
    <textarea class="form-control" id="tonkho" rows="1" readonly></textarea>
    <div id = "donvi2">đơn vị</div>
    </div>
  </div>
  <div class="row no-gutters">
    <div class="col-2">
    <span class="badge badge-primary">Cách dùng</span>
   	<select class="form-control" id = "cachdung">
   		<option>Tra</option>
   		<option>Bôi</option>
   		<option>Uống</option>
   		<option></option>
   	</select>
    </div>
    <div class="col-3">
    <span class="badge badge-primary">Số lần dùng</span>
    <input type = "number" class="form-control" id="solandung" placeholder="">
    </div>
    <div class="col-3">
    <span class="badge badge-primary">Mỗi lần</span>
    <input type = "number" class="form-control" id="moilandung" placeholder="">
    </div>
    <div class="col-2">
    <span class="badge badge-primary">Vị trí</span>
    <select class="form-control" id = "vitri">
   		<option>MP</option>
   		<option>MT</option>
   		<option>2M</option>
   		<option>vùng da tổn thương</option>
   		<option></option>
   	</select>
    </div>
   	<div class="col-2">
    <span class="badge badge-primary">Thời điểm</span>
    <select class="form-control" id = "thoidiem">
   		<option>Trong ngày</option>
   		<option>Sau ăn</option>
   		<option>Sau ăn sáng</option>
   		<option>Trước khi ngủ</option>
   		<option></option>
   	</select>
    </div>
    </div>

    <div class="row no-gutters">
    <div class="col-6">
    <span class="badge badge-primary">Lưu ý</span>
    <textarea class="form-control" id="luuy" rows="1"></textarea>
    </div>
    <div class="col-2">
    <span class="badge badge-primary">Tùy chọn</span>
    <button class="btn btn-primary mb-2" id="btnThem">Thêm</button>
    </div>
    </div> 
<div class="card">
	<div class="card-heading">
		Đơn thuốc
	</div>
	<div class="card-body" id = "khungdonthuoc">

	  <ol id = "donthuoc">
  		
	  </ol>
		
	</div>
	
</div>
   
    </div>
  </div>
  
 </div>


</body>
<script type="text/javascript">
	var DONTHUOC = [], DONTHUOC2 = [];
	String.prototype.format = function() {
    var s = this;
    for (var i = 0; i < arguments.length; i++) {       
        var reg = new RegExp("\\{" + i + "\\}", "gm");             
        s = s.replace(reg, arguments[i]);
    }
    return s;
}
    $(".clickMe").click(function(){
    	$(this).text($(this).text() + "<br/>clicked")
    	console.log($(this).html())
    	console.log($(this).text())
    });
    $("#btnThem").click(function(){
    	var strThem = TaoDongThuoc(
    			$("#tenthuoc").val(),
    			$("#soluong").val(),
    			$("#cachdung option:selected").html(),
    			$("#vitri option:selected").html(),
    			$("#solandung").val(),
    			$("#moilandung").val(),
    			//$("#donvi").text(),
    			"giọt",
    			$("#thoidiem option:selected").html(),
    			$("#luuy").val()
    		)
    	$("#donthuoc").append("<li class = 'clickMe' "+strThem+" </li>");
        
    })
	function TaoDongThuoc(
		tenthuoc, 
		soluong,
		cachdung,
		vitri,
		solandung,
		moilandung,
		donvi,
		thoidiem,
		luuy
		){
	var s, s2;
	if (luuy!="") luuy = "<br/>Lưu ý: "+ luuy;
	s = "{0} x {1} {2} <br/>{3} {4}: {5} lần, mỗi lần {6} {7} {8}{9}".format(
		tenthuoc, 
		"lọ",
		soluong,
		cachdung,
		vitri,
		solandung,
		moilandung,
		donvi,
		thoidiem,
		luuy
		)
	s2 = "[{0}] x [{1}] [{2}] \n[{3}] [{4}]: [{5}] lần, mỗi lần [{6}] [{7}] [{8}]\n[{9}]".format(
		tenthuoc, 
		soluong,
		cachdung,
		vitri,
		solandung,
		moilandung,
		donvi,
		thoidiem,
		luuy
		)
	DONTHUOC2.push(s2)
	return s;
	}


</script>

</html>
