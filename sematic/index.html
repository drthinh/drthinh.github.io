<html>
<header>
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.5.0/semantic.min.css" />
  <link rel="stylesheet" type="text/css"
    href="https://cdn.datatables.net/v/dt/jszip-2.5.0/dt-1.13.1/b-2.3.3/b-colvis-2.3.3/b-html5-2.3.3/b-print-2.3.3/date-1.2.0/r-2.4.0/rr-1.3.1/sl-1.5.0/datatables.min.css" />

  <style>
    body {
      font: 90%/1.45em "Times New Roman", sans-serif;
      margin: 0;
      padding: 8px 10px;
      color: #333;
      background-color: #fff;
    }

    table.dataTable tbody th,
    table.dataTable tbody td {
      padding: 2px 10px;
    }

    .ui .row {
      padding: 0;
    }

    .ui .grid {
      width: auto;
      margin: 0em !important;
    }

    div.dt-buttons {
      float: right;
    }
  </style>
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.15.2/css/selectize.default.min.css" />

  <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
  <script type="text/javascript" src="https://momentjs.com/downloads/moment-with-locales.js"></script>
  <script type="text/javascript"
    src="https://cdn.datatables.net/v/dt/jszip-2.5.0/dt-1.13.1/b-2.3.3/b-colvis-2.3.3/b-html5-2.3.3/b-print-2.3.3/date-1.2.0/r-2.4.0/rr-1.3.1/sl-1.5.0/datatables.min.js"></script>
  <script type="text/javascript"
    src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.5.0/semantic.min.js"></script>
  <script type="text/javascript"
    src="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.15.2/js/selectize.min.js"></script>
</header>

<body>
  <div class="ui pointing menu">
    <a class="item active">
      Trang chủ
    </a>
    <a class="item">
      Vật tư
    </a>
    <a class="item">
      Nhân viên
    </a>
    <div class="right menu">
      <div class="item">
        <div class="ui transparent icon input">
          <input type="text" id="myInput" placeholder="Tìm kiếm...">
          <i class="search link icon"></i>
        </div>
      </div>
    </div>
  </div>

  <div class="ui grid">
    <div class="four wide column">
      <div class="ui top attached button">DANH SÁCH BỆNH NHÂN</div>
      <div class="ui">
        <div class="ui tabs menu container" style="overflow-x:auto;">
          <a class="item ui mini" data-tab="first">Chờ khám</a>
          <a class="item ui mini" data-tab="second">Đã khám</a>
          <a class="item active ui mini" data-tab="third">Đã thanh toán</a>
          <button class="ui mini button item">
            Tìm kiếm
          </button>
        </div>
        <div class="ui bottom tab segment" data-tab="first">
          <div class="ui labeled button" tabindex="0">
            <div class="ui red button">
              <i class="heart icon"></i> Like
            </div>
            <a class="ui basic red left pointing label">
              1,048
            </a>
          </div>
        </div>
        <div class="ui bottom tab segment" data-tab="second" style="width:100%; height: 100%">

          <table id="example2" class="display responsive nowrap">
            <thead>
              <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Position</th>
                <th>Office</th>
                <th>Age</th>
                <th>Start date</th>
                <th>Salary</th>
                <th>Functions</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>Shad Decker</td>
                <td>Regional Director</td>
                <td>Edinburgh</td>
                <td>51</td>
                <td>2008-11-13</td>
                <td>$183,000</td>
                <td>

                </td>
              </tr>
              <tr>
                <td>2</td>
                <td>Michael Bruce</td>
                <td>Javascript Developer</td>
                <td>Singapore</td>
                <td>29</td>
                <td>2011-06-27</td>
                <td>$183,000</td>
                <td>

                </td>
              </tr>
              <tr>
                <td>3</td>
                <td>Donna Snider</td>
                <td>Customer Support</td>
                <td>New York</td>
                <td>27</td>
                <td>2011-01-25</td>
                <td>$112,000</td>
                <td>

                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="ui bottom tab segment active" data-tab="third">

        </div>
      </div>
    </div>
    <div class="twelve wide column">
      <div class="ui top attached button">KHÁM CHỨC NĂNG</div>
      <div class="ui">
        <div class="ui top attached tabular menu">
          <a class="item" data-tab="first">Thông tin chung</a>
          <a class="item" data-tab="second">Chức năng</a>
          <a class="item active" data-tab="third">Chẩn đoán và điều trị</a>
        </div>
        <div class="ui bottom attached tab segment" data-tab="first">
          <div class="ui labeled button" tabindex="0">
            <div class="ui button">
              <i class="heart icon"></i> Like
            </div>
            <a class="ui basic label">
              2,048
            </a>
          </div>
        </div>
        <div class="ui bottom attached tab segment" data-tab="second" style="height:80%;overflow:auto">
          <div class="ui attached mini message function hidden">
            <i class="close icon"></i>
            <div class="header"></div>
            <div class="content"></div>
          </div>
          <table class="ui form celled table function">
            <thead>
              <tr>
                <th>Mắt</th>
                <th>Mắt Phải</th>
                <th>Mắt Trái</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Thị lực không kính (*)</td>
                <td><input type="text" class="visualacurity" /></td>
                <td><input type="text" class="visualacurity" /></td>
              </tr>
              <tr>
                <td>Thị lực kính lỗ</td>
                <td><input type="text" class="visualacurity" /></td>
                <td><input type="text" class="visualacurity" /></td>
              </tr>
              <tr>
                <td>Số kính cũ</td>
                <td><input type="text" class="glasses" /></td>
                <td><input type="text" class="glasses" /></td>
              </tr>
              <tr>
                <td>Thị lực kính cũ</td>
                <td><input type="text" class="visualacurity" /></td>
                <td><input type="text" class="visualacurity" /></td>
              </tr>
              <tr>
                <td>Số kính soi bóng đồng tử</td>
                <td><input type="text" class="glasses" /></td>
                <td><input type="text" class="glasses" /></td>
              </tr>
              <tr>
                <td>Thị lực soi bóng đồng tử</td>
                <td><input type="text" class="visualacurity" /></td>
                <td><input type="text" class="visualacurity" /></td>
              </tr>
              <tr>
                <td>Số kính mới</td>
                <td><input type="text" class="glasses" /></td>
                <td><input type="text" class="glasses" /></td>
              </tr>
              <tr>
                <td>Thị lực kính mới</td>
                <td><input type="text" class="visualacurity" /></td>
                <td><input type="text" class="visualacurity" /></td>
              </tr>
              <tr>
                <td>Nhãn áp (mmHg)</td>
                <td><input type="text" class="IOP" /></td>
                <td><input type="text" class="IOP" /></td>
              </tr>
              <tr>
                <td>Ghi chú</td>
                <td><input type="text" class="note" /></td>
                <td><input type="text" class="note" /></td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="ui bottom attached tab segment active" data-tab="third" style="height:100%;overflow:auto">
          <div class="ui horizontal divider">
            Chẩn đoán
          </div>
          <div class="ui mini message diagnose hidden">
            <i class="close icon"></i>
            <div class="header"></div>
            <div class="content"></div>
          </div>
          <table id="diagnose" class="display" style="width:100%">
            <thead>
              <tr>
                <th>STT</th>
                <th>Mắt</th>
                <th>Mã ICD</th>
                <th>Tên bệnh</th>
                <th>Bổ sung</th>
                <th>Mã hoá</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td></td>
                <td>MP</td>
                <td>H10</td>
                <td>Viêm kết mạc cấp</td>
                <th>không có giả mạc</th>
                <th></th>
              </tr>
              <tr>
                <td></td>
                <td>MT</td>
                <td>H11</td>
                <td>Mộng thịt kết mạc</td>
                <th>độ II</th>
                <th></th>
              </tr>
              <tr>
                <td></td>
                <td>2M</td>
                <td>H25</td>
                <td>Đục thể thuỷ tinh vùng nhân người già</td>
                <th></th>
                <th></th>
              </tr>
            </tbody>
          </table>

          <div class="ui horizontal divider">
            Điều trị
          </div>

          <div class="ui mini message drug hidden">
            <i class="close icon"></i>
            <div class="header"></div>
            <div class="content"></div>
          </div>
          <table id="example" class="display cell-border" style="width:100%">
            <thead>
              <tr>
                <th>STT</th>
                <th>Mã</th>
                <th>Tên thuốc</th>
                <th>Số lượng</th>
                <th>Đơn vị</th>
                <th>Cách dùng</th>
                <th>Mã hoá</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td></td>
                <td>DUOC-01</td>
                <td>Tobradex</td>
                <td>01</td>
                <th>lọ</th>
                <td>Tra 2M: 4 lần/ngày mỗi lần 1 giọt</td>
                <th></th>
              </tr>
              <tr>
                <td></td>
                <td>DUOC-02</td>
                <td>Tobradex</td>
                <td>01</td>
                <th>lọ</th>
                <td>Tra 2M: 4 lần/ngày mỗi lần 1 giọt</td>
                <th></th>
              </tr>
              <tr>
                <td></td>
                <td>DUOC-03</td>
                <td>Tobradex</td>
                <td>01</td>
                <th>lọ</th>
                <td>Tra 2M: 4 lần/ngày mỗi lần 1 giọt</td>
                <th></th>
              </tr>
            </tbody>
          </table>

        </div>
      </div>
    </div>
  </div>

  <div class="mini ui modal delete">
    <div class="header">Xoá thuốc</div>
    <div class="content">
      Bạn có muốn xoá thuốc này khỏi đơn?
    </div>
    <div class="actions">
      <div class="ui red approve button">Có</div>
      <div class="ui blue cancel button">Không</div>
    </div>
  </div>

  <div class="small ui modal add">
    <div class="header">Thêm thuốc</div>
    <div class="content">
      <div class="ui attached mini message adddrug hidden">
        <i class="close icon"></i>
        <div class="header"></div>
        <div class="content"></div>
      </div>
      <div class="ui form">

        <div class="three fields">
          <div class="ten wide field">
            <label>Tên thuốc</label>
            <input type='text' class="name" />
          </div>
          <div class="three wide field">
            <label>Số lượng</label>
            <input type="text" class="number">
          </div>
          <div class="three wide field">
            <label>Đơn vị</label>
            <span class="unit">lọ</span>
          </div>
        </div>

        <div class="three fields">
          <div class="ten wide field">
            Thành phần: <span>Cao thảo quả,...</span>
          </div>
          <div class="three wide field">
            Số lượng kho: <span>199</span>
          </div>
          <div class="three wide field">
            Mã dược: <span class="code">A123</span>
          </div>
        </div>

        <div class="four fields">
          <div class="four wide field">
            <label>Cách dùng</label>
            <input type="text" class="usage">
          </div>
          <div class="four wide field">
            <label>Vị trí</label>
            <input type="text" class='position'>
          </div>
          <div class="four wide field">
            <label>Số lần</label>
            <input type="text" class='freq'>
          </div>
          <div class="four wide field">
            <label>Mỗi lần</label>
            <input type="text" class='noperuse'>
          </div>
        </div>

        <div class="field">
          <label>Cụ thể</label>
          <input type="text">
        </div>

        <br>

      </div>
      <div class="actions">
        <div class="ui red approve button">Thêm</div>
        <div class="ui blue cancel button">Đóng</div>
      </div>
    </div>
  </div>

  <div class="small ui modal diagnose add">
    <div class="header">Thêm chẩn đoán</div>
    <div class="content">
      <div class="ui attached mini message adddrug hidden">
        <i class="close icon"></i>
        <div class="header"></div>
        <div class="content"></div>
      </div>
      <div class="ui form">

        <div class="three fields">
          <div class="ten wide field">
            <label>Tên thuốc</label>
            <input type='text' class="name" />
          </div>
          <div class="three wide field">
            <label>Số lượng</label>
            <input type="text" class="number">
          </div>
          <div class="three wide field">
            <label>Đơn vị</label>
            <span class="unit">lọ</span>
          </div>
        </div>

        <div class="three fields">
          <div class="ten wide field">
            Thành phần: <span>Cao thảo quả,...</span>
          </div>
          <div class="three wide field">
            Số lượng kho: <span>199</span>
          </div>
          <div class="three wide field">
            Mã dược: <span class="code">A123</span>
          </div>
        </div>

        <div class="four fields">
          <div class="four wide field">
            <label>Cách dùng</label>
            <input type="text" class="usage">
          </div>
          <div class="four wide field">
            <label>Vị trí</label>
            <input type="text" class='position'>
          </div>
          <div class="four wide field">
            <label>Số lần</label>
            <input type="text" class='freq'>
          </div>
          <div class="four wide field">
            <label>Mỗi lần</label>
            <input type="text" class='noperuse'>
          </div>
        </div>

        <div class="field">
          <label>Cụ thể</label>
          <input type="text">
        </div>

        <br>

      </div>
      <div class="actions">
        <div class="ui red approve button">Thêm</div>
        <div class="ui blue cancel button">Đóng</div>
      </div>
    </div>
  </div>



  <div class="small ui modal modify">
    <div class="header">Sửa đơn</div>
    <div class="content">
      <div class="ui attached mini message modifydrug hidden">
        <i class="close icon"></i>
        <div class="header"></div>
        <div class="content"></div>
      </div>
      <div class="ui form">

        <div class="three fields">
          <div class="ten wide field">
            <label>Tên thuốc</label>
            <input type='text' class="name" />
          </div>
          <div class="three wide field">
            <label>Số lượng</label>
            <input type="text" class="number">
          </div>
          <div class="three wide field">
            <label>Đơn vị</label>
            <span class="unit">lọ</span>
          </div>
        </div>

        <div class="three fields">
          <div class="ten wide field">
            Thành phần: <span>Cao thảo quả,...</span>
          </div>
          <div class="three wide field">
            Số lượng kho: <span>199</span>
          </div>
          <div class="three wide field">
            Mã dược: <span class="code">A123</span>
          </div>
        </div>

        <div class="four fields">
          <div class="four wide field">
            <label>Cách dùng</label>
            <input type="text" class="usage">
          </div>
          <div class="four wide field">
            <label>Vị trí</label>
            <input type="text" class="position">
          </div>
          <div class="four wide field">
            <label>Số lần</label>
            <input type="text" class="freq">
          </div>
          <div class="four wide field">
            <label>Mỗi lần</label>
            <input type="text" class="noperuse">
          </div>
        </div>

        <div class="field">
          <label>Cụ thể</label>
          <input type="text" class="encoded">
        </div>

        <br>

      </div>
      <div class="actions">
        <div class="ui red approve button">Lưu</div>
        <div class="ui blue cancel button">Đóng</div>
      </div>
    </div>
  </div>



  <script>
    var THILUC = [
      "DNT 1m", "DNT 2m", "DNT 3m", "DNT 4m", "DNT 5m", "1/10", "2/10", "3/10", "4/10", "5/10", "6/10", "7/10", "8/10", "9/10", "10/10", "11/10", "12/10", "ST-", "ST+", "BBT 0.1m", "BBT 0.2m", "BBT 0.3m", "DNT 0.1m", "DNT 0.2m", "DNT 0.3m", "DNT 0.4m", "DNT 0.5m", "DNT 0.6m", "DNT 0.7m", "DNT 0.8m", "DNT 0.9m", "Tăng ít", "Không phối hợp", "Phối hợp kém", "Không thử", "", "0.15", "Không tăng", "ST±", "Kính đọc sách", "Sáng hơn", "DNT 4.5m", "DNT 3.5m", "DNT 2.5m", "DNT 1.5m", "0", "0.13", "0.16", "0.25", "15/10", "20/200", "20/160", "20/125", "20/100", "20/80", "20/60", "20/50", "20/40", "20/30", "20/25", "20/20", "20/16", "20/12.5", "20/10", "20/70", "20/400"
    ];
    var TENBENH = [
"H00.0-Lẹo và viêm sâu khác của mi mắt","H00.1-Chắp","H01.0-Viêm bờ mi","H01.1-Bệnh da mi không nhiễm trùng","H01.8-Viêm mi mắt đặc hiệu","H01.9-Viêm Mi Mắt Không Xác Định","H02.0-Quặm và lông xiêu của mi mắt","H02.1-Lật mi","H02.2-Hở mi","H02.3-Sa da mi","H02.4-Sụp mi","H02.5-Bệnh khác ảnh hưởng đến chức năng của mi mắt","H02.6-U vàng ở mi mắt","H02.7-Bệnh thoái hoá khác của mi mắt và vùng quanh mắt","H02.8-Bệnh xác định khác của mi mắt","H02.9-Bệnh mi mắt không xác định","H03.0-Nhiễm ký sinh trùng ở mi mắt trong các bệnh phân loại nơi khác","H04.0-Viêm tuyến lệ","H04.1-Bệnh khác của tuyến lệ","H04.2-Chảy nước mắt","H04.3-Viêm lệ đạo cấp tính và không xác định","H04.4-Viêm lệ đạo mãn tính","H04.5-Tắc và bán tắc lệ đạo","H04.6-Rò lệ đạo","H04.8-Bệnh khác của lệ bộ","H05.0-Viêm hốc mắt cấp tính","H05.1-Viêm tổ chức hốc mắt mãn tính","H05.2-Các bệnh gây lồi mắt","H05.3-Biến dạng của hốc mắt","H05.4-Lõm mắt","H05.5-Dị vật hậu nhãn cầu","H05.8-Bệnh khác của hốc mắt","H05.9-Bệnh hốc mắt, không xác định","H06.0-Bệnh của lệ bộ trong các bệnh phân loại nơi khác","H06.1-Nhiễm ký sinh trùng của hốc mắt trong các bệnh phân loại nơi khác","H06.2-Lồi mắt do tuyến giáp","H06.3-Bệnh khác của hốc mắt trong các bệnh phân loại nơi khác","H10.0-Viêm kết mạc nhầy mủ","H10.1-Viêm kết mạc dị ứng cấp","H10.2-Viêm kết mạc cấp khác","H10.4-Viêm kết mạc mạn","H10.5-Viêm kết mạc, mi mắt","H10.8-Viêm kết mạc khác","H11.0-Mộng thịt","H11.2-Sẹo kết mạc","H11.3-Xuất huyết kết mạc","H11.4-Nang các bệnh mạch máu kết mạc khác","H13.0-Nhiễm giun chỉ ở kết mạc (B74.+)","H13.1-Viêm kết mạc trong các bệnh nhiễm trùng và ký sinh trùng phân loại nơi khác","H13.2-Viêm kết mạc trong bệnh khác, phân loại nơi khác","H13.8-Bệnh khác của kết giác mạc trong các bệnh phân loại nơi khác","H15.0-Viêm củng mạc","H15.1-Viêm thượng củng mạc","H15.8-Bệnh khác của củng mạc: giãn lồi củng mạc","H15.9-Bệnh củng mạc không xác định","H16.0-Loét giác mạc","H16.1-Viêm giác mạc nông khác không viêm kết mạc","H16.2-Viêm kết giác mạc","H16.3-Viêm giác mạc sâu và viêm giác mạc kẽ","H16.8-Viêm giác mạc khác","H17.0-Sẹo dính giác mạc","H17.1-Đục giác mạc trung tâm khác","H17-Sẹo và đục giác mạc","H18.0-Nhiễm sắc tố và lắng đọng ở giác mạc","H18.1-Bệnh giác mạc bọng","H18.2-Phù giác mạc khác","H18.3-Biến đổi ở các lớp giác mạc","H18.4-Thoái hoá giác mạc","H18.5-Loạn dưỡng giác mạc di truyền","H18.6-Giác mạc hình chóp","H18.7-Biến dạng giác mạc khác","H18.8-Bệnh giác mạc xác định khác","H18.9-Bệnh giác mạc không xác định","H19.0-Viêm củng mạc và thượng củng mạc trong các bệnh phân loại nơi khác","H19.1-Viêm giác mạc và viêm kết mạc do virus Herpes","H19.2-Viêm giác mạc và viêm kết mạc trong bệnh nhiễm trùng và nhiễm ký sinh khác phân loại nơi khác","H19.3-Viêm giác mạc và viêm kết giác mạc trong bệnh khác, phân loại nơi khác","H19.8-Bệnh khác của củng mạc và giác mạc trong bệnh phân loại nơi khác","H20.0-Viêm mống mắt thể mi cấp và bán cấp","H20.1-Viêm mống mắt thể mi mạn","H20.2-Viêm mống mắt thể mi do thể thuỷ tinh","H20.8-Viêm mống mắt thể mi khác","H21.1-Bệnh mạch máu khác của mống mắt và thể mi","H21.2-Thoái hoá mống mắt và thể mi","H21.3-Nang mống mắt, thể mi và tiền phòng","H16-Viêm giác mạc","H21.8-Bệnh xác định khác của mống mắt và thể mi","H21.9-Bệnh của mống mắt và thể mi, không xác định","H22.0-Viêm mống mắt thể mi trong các bệnh nhiễm trùng và ký sinh trùng phân loại nơi khác","H22.1-Viêm mống mắt thể mi trong các bệnh khác, phân loại nơi khác","H22.8-Bệnh khác của mống mắt và thể mi trong các bệnh phân loại nơi khác","H25.0-Đục Thể Thủy Tinh Bắt Đầu Ở Người Già","H25.1-Đục Thể Thủy Tinh Vùng Nhân Ở Người Già","H25.2-Đục Thể Thủy Tinh Hình Thái Morgagni","H26.1-Đục Thể Thủy Tinh Do Chấn Thương","H26.2-Đục Thể Thủy Tinh Biến Chứng","H26.3-Đục Thể Thủy Tinh Do Thuốc","H26.4-Đục Bao Sau Mổ Đục Thể Thuỷ Tinh Ngoài Bao","H26.8-Đục Thể Thủy Tinh Xác Định Khác","H27.0-Không có thể thuỷ tinh","H27.1-Lệch thể thuỷ tinh","H27.8-Bệnh thể thuỷ tinh xác định khác","H27.9-Bệnh thể thuỷ tinh không xác định","H28.0-Đục Thể Thủy Tinh Do Đái Tháo Đường","H28.1-Đục Thể Thủy Tinh Trong Các Bệnh Nội Tiết, Dinh Dưỡng Và Chuyển Hoá Khác","H28.8-Bệnh khác của thể thuỷ tinh trong các bệnh phân loại nơi khác","H30-Viêm hắc võng mạc","H30.2-Viêm thể mi sau","H30.9-Viêm hắc võng mạc không xác định","H31.0-Sẹo hắc võng mạc","H31.1-Thoái hoá hăc mạc","H31.2-Loạn dưỡng hắc mạc di truyền","H31.3-Xuất huyết và rách hắc mạc","H31.4-Bong hắc mạc","H33.0-Bong võng mạc có vết rách","H33.1-Tách lớp võng mạc và nang võng mạc","H33.3-Vết rách võng mạc không có bong","H33.5-Bong và rách võng mạc khác","H34.0-Tắc động mạch võng mạc thoáng qua","H34.1-Tắc động mạch trung tâm võng mạc","H34.2-Tắc động mạch võng mạc khác","H34.8-Các tắc mạnh võng mạc khác","H35.1-Bệnh lý võng mạc của trẻ để non","H35.2-Bệnh lý võng mạc tăng sinh khác","H35.5-Loạn dưỡng võng mạc di truyền","H35.6-Xuất huyết võng mạc","H35.7-Tách lớp võng mạc","H35.8-Bệnh võng mạc xác định khác","H35.7.1-Bệnh hắc võng mạc trung tâm thanh dịch","H36.8-Bệnh võng mạc khác trong các bệnh phân loại nơi khác","H40.0-Nghi ngờ glôcôm","H40.1-Glôcôm góc mở nguyên phát","H40.2-Glôcôm góc đóng nguyên phát","H40.3-Glôcôm thứ phát do chấn thương mắt","H40.4-Glôcôm thứ phát do viêm mắt","H40.5-Glôcôm thứ phát do bệnh mắt khác","H40.6-Glôcôm thứ phát do thuốc","H42.0-Glôcôm trong bệnh nội tiết, dinh dưỡng và chuyển hoá","H43.0-Phòi dịch kính","H43.1-Xuất huyết dịch kính","H43.2-Cặn lắng tinh thể trong dịch kính","H43.3-Vẩn đục dịch kính khác","H43.8-Bệnh khác của dịch kính","H44.0-Viêm mủ nội nhãn","H44.1-Viêm nội nhãn khác","H44.2-Cận thị thoái hoá","H44.3-Bệnh thoái hoá khác của nhãn cầu","H44.4-Hạ nhãn áp","H44.5-Các bệnh thoái hoá của nhãn cầu","H44.5.2-Teo nhãn cầu","H44.8-Các bệnh khác của nhãn cầu","H44.8.2-Lệch nhãn cầu","H45.0-Xuất huyết dịch kính trong các bệnh phân loại nơi khác","H45.1-Viêm nội nhãn trong các bệnh phân loại nơi khác","H45.8-Các bệnh khác của dịch kính và nhãn cầu trong các bệnh phân loại nơi khác","H47.0-Bệnh thần kinh thị, không phân loại nơi khác","H47.3-Bệnh khác của đĩa thị","H48.8-Bệnh khác của thần kinh thị và đường dẫn truyền thị giác trong các bệnh phân loại nơi khác","H49.3-Liệt vận nhãn (ngoài) toàn bộ","H49.8-Liệt vận nhãn khác","H50.0-Lác trong (Lác hội tụ đồng hành)","H50.1-Lác ngoài (Lác phân kỳ đồng hành)","H50.2-Lác đứng","H50.4-Lác khác và lác không xác định","H50.5-Lác ẩn","H50.8-Lác xác định khác","H51.0-Liệt phối hợp hướng nhìn","H51.1-Thiểu năng hay gia tăng quy tụ","H51.2-Liệt vận nhãn gian","H51.8-Các rối loạn vận nhãn hai mắt xác định khác","H52.0-Viễn thị","H52.1-Cận thị","H52.2-Loạn thị","H52.3-Khúc xạ hai mắt không đều và hình võng mạc hai mắt không đều","H52.4-Lão thị","H52.5-Rối loạn điều tiết","H52.6-Rối loạn khúc xạ khác","H53.1-Rối loạn thị giác chủ quan","H53.3-Rối loạn thị giác hai mắt khác","H53.4-Tổn hại thị trường","H53.5-Tổn hại sắc giác","H53.6-Quáng gà","H53.8-Rối loạn thị giác khác","H54.2-Khiếm thị hai mắt","H54.3-Mất thị lực không đo được, hai mắt","H54.4-Mù một mắt","H54.5-Khiếm thị một mắt","H54.6-Mất thị lực không đo được, một mắt","H57.0-Bất thường chức năng đồng tử","H57.1-Nhức mắt","H57.9-Các bệnh của mắt và phần phụ, không xác định","H58.0-Bất thường chức năng đồng tử trong các bệnh phân loại nơi khác","H58.1-Rối loạn thị giác trong các bệnh phân loại nơi khác","H58.8-Bệnh của mắt và phần phụ xác định khác trong các bệnh phân loại nơi khác","H59.0-Bệnh giác mạc bọng sau phẫu thuật thể thủy tinh","H59.8-Bệnh khác của mắt và phần phụ sau phẫu thuật","H59.9-Bệnh mắt và phần phụ sau phẫu thuật, không xác định","S05.1-Chấn thương đụng dập nhãn cầu và tổ chức hốc mắt","S05.8-Tổn Thương Khác Của Mắt Và Ổ Mắt Do Chấn Thương","T26.0-Bỏng tại mi mắt và vùng quanh nhãn cầu","T26.3-Bỏng tại phần khác của mắt và phần phụ của mắt","T26.4-Bỏng tại mắt và phần phụ của mắt, phần chưa xác định","T26.5-Ăn mòn tại mi mắt và vùng quanh nhãn cầu","T26.7-Ăn mòn với hậu quả gây vỡ và phá huỷ nhãn cầu","T26.8-Ăn mòn tại phần khác của mắt và phần phụ của mắt","T26.9-Ăn mòn tại mắt và phần phụ mắt, phần chưa xác định","Z52.5-Hiến giác mạc","H42-Glôcôm trong các bệnh phân loại nơi khác","H35.3.4-Lỗ hoàng điểm","Q87.0.1-Đa Dị Tật Hoặc Dị Dạng Bẩm Sinh Của Mặt Và Mắt (quái Thai 1 Hốc Mắt)","Q15.0.1-Glôcôm bẩm sinh, dị tật lồi mắt trâu, giác mạc to bẩm sinh","H30.9.2-Viêm màng bồ đào toàn bộ","H16.1.6-Viêm giác mạc chấm nông","H10-Viêm kết mạc","H40.5.2-Glôcôm tân mạch","T90.4-Di chứng tổn thương ở mắt và hố mắt","T15.8-Dị vật trong điểm lệ","T15.0-Dị vật giác mạc","S04.0-Tổn Thương Dây Thần Kinh Thị Giác Và Đường Đi Do Chấn Thương","S02.3-Vỡ xương sàn ổ mắt","S00.2-Tổn thương nông khác của mi mắt và vùng quanh ổ mắt","S00.1-Đụng dập mi mắt và vùng quanh ổ mắt","Q15.9-Bẩm sinh mắt không đặc hiệu","Q15.8-Các dị tật bẩm sinh mắt đặc hiệu khác","Q15.0-Glôcôm (tăng nhãn áp) bẩm sinh","Q14.9-Dị tật bẩm sinh không đặc hiệu ở phần sau của mắt","Q14.8-Các dị tật bẩm sinh khác ở phần sau của mắt","Q14.3-Dị tật bẩm sinh màng mạch","Q14.1-Dị tật bẩm sinh võng mạc","Q13.9-Dị tật bẩm sinh phần trước không đặc hiệu","Q13.8-Các dị tật bẩm sinh khác ở phần trước của nhãn cầu","Q13.5-Củng mạc xanh","Q13.4-Các dị tật bẩm sinh khác của giác mạc","Q13.3-Đục giác mạc bẩm sinh","Q12.0-Đục thể thủy tinh bẩm sinh","H13.3-Pempigus ở mắt","E50.6-Khô giác mạc có sẹo do thiếu vitamin A","E50.4-Nhuyễn giác mạc do thiếu vitamin A","E50.3-Loét và khô giác mạc do thiếu vitamin A","E50.2-Khô giác mạc do thiếu vitamin A","E50.1-Vết Bitot và khô kết mạc do thiếu vitamin A","E50.0-Khô kết mạc do thiếu vitamin A","D03.1-U hắc tố tại chỗ của mi mắt, bao gồm góc mắt","H10.1.1-Viêm kết mạc mùa xuân","B94.0-Di chứng bệnh mắt hột","B69.1-Nhiễm ấu trùng sán ở mắt","B30.9-Viêm kết mạc do virus, không xác định","B30.3-Viêm kết mạc gây dịch xuất huyết cấp (do virus đường ruột) (H13.1*)","A21.1-Bệnh tularaemia hạch ở mắt","A54.3-Nhiễm lậu cầu ở mắt","A71.0-Giai đoạn đầu của mắt hột","A71.9-Mắt hột, không xác định","A71.1-Giai đoạn hoạt động của mắt hột","B02.3-Bệnh mắt do Zona","H16.0.6-Loét giác mạc Moren","H44.1.1-Viêm nội nhãn do ký sinh trùng","A18.5-Lao ở mắt","A54.3.1-Viêm kết mạc do lậu cầu","A54.3.2-Viêm mống mắt thể mi do lậu cầu","A71-Mắt hột","A71.1.1-Viêm kết mạc có hột","A71.1.2-Viêm kết mạc dạng nang","A74.0-Viêm kết mạc do chlamydia (H13.1*)","B02.3.1-Viêm Mi Mắt Do Zona","B02.3.2-Viêm kết mạc do Zona","B02.3.3-Viêm giác mạc do Zona","B02.3.4-Viêm mống mắt thể mi do Zona","B02.3.5-Viêm kết giác mạc do Zona","B30-Viêm kết mạc do virus (loại trừ Herpes, Zonna)","B30.0-Viêm kết giác mạc do adenovirus, viêm kết giác mạc gây dịch","B30.1-Viêm kết giác mạc cấp dạng nang do adenovirus, viêm kết mạc bể bơi","B30.2-Viêm kết mạc-họng hạch","B58.0-Bệnh lý mắt do Toxoplasma","B87.2-Bệnh dòi ở mắt (Ocular myiasis)","C41.0-Ung thư xương hốc mắt","C43.1-U hắc tố ác tính của mi","C44.1-Ung thư da mi","C69-Ung Thư Của Mắt Và Phần Phụ","C69.0-Ung thư kết mạc","C69.1-Ung Thư Giác Mạc","C69.2-Ung Thư Võng Mạc","C69.3-Ung Thư Hắc Mạc","C69.4-Ung Thư Thể Mi, Nhãn Cầu","C69.5-Ung Thư Tuyến Lệ Và Ống Lệ","C69.6-Ung Thư Hốc Mắt (loại Trừ ung thư Xương)","C69.6.1-Ung Thư Mô Liên Kết Của Hốc Mắt","C69.6.2-Ung Thư Cơ Ngoại Nhãn Cầu","C69.6.3-Ung Thư Thần Kinh Ngoại Biên Của Hốc Mắt","C69.6.4-Ung Thư Tổ Chức Hậu Nhãn Cầu","C69.8-Ung Thư Lan Rộng Của Mắt Và Phần Phụ","C69.9-Ung Thư Mắt Không Xác Định","D23.1-U lành da mi mắt","D31-U lành của mắt và phần phụ","D31.0-U lành kết mạc","D31.1-U lành giác mạc","D31.2-U lành võng mạc","D31.3-U Lành Hắc Mạc","D31.4-U lành thể mi","D31.5-U lành tuyến và ống lệ","D31.6-U lành hốc mắt không xác định","D31.9-U lành của nhãn cầu, không xác định","E50-Thiếu Vitamin A","E50.5-Quáng gà do thiếu Vitamin A","E50.7-Biểu hiện khác ở mắt do thiếu vitamin A, bệnh khô mắt","H00-Lẹo và chắp","H00.0.1-Áp xe của mi mắt","H00.0.2-Nhọt của mi mắt","H00.0.3-Lẹo mi mắt","H01-Viêm khác của mi mắt","H02.5.1-Dính mi mắt","H02.5.2-Hẹp khe mi","H02.5.3-Co rút mi","H02.7.1-Rụng lông mi của mi mắt","H02.7.2-Rám da","H02.7.3-Bạch biến","H02.8.1-Bệnh rậm lông mi","H02.8.2-Dị vật mi mắt","H03.0.1-Viêm da mi do Demodex","H03.0.2-Nhiễm Leishmania ở mi mắt","H03.0.3-Nhiễm giun ở mi mắt","H03.0.4-Rận mi (nhiễm chấy rận ở mi mắt)","H03.1-Các bệnh nhiễm trùng khác liên quan đến mi mắt trong các bệnh phân loại nơi khác","H03.1.1-Viêm mi do Virus Herpes","H03.1.2-Viêm mi do Zona","H03.1.3-Viêm mi do lao, phong","H03.1.4-U mềm lây mi mắt","H04.0.1-Tuyến lệ phì đại mãn tính","H04.1.1-Túi nước tuyến lệ","H04.1.2-Hội chứng khô mắt","H04.1.3-Nang tuyến lệ","H04.1.4-Teo tuyến lệ","H04.3.1-Viêm túi lệ cấp, bán cấp","H04.3.2-Viêm lệ quản cấp, bán cấp","H04.3.3-Viêm quanh túi lệ cấp, bán cấp","H04.4.1-Viêm túi lệ mãn tính","H04.4.2-Viêm lệ quản mãn tính","H04.4.3-U nhầy lệ mạn tính","H04.5.1-Sỏi lệ đạo","H04.5.2-Lật điểm lệ","H04.5.3-Hẹp lệ bộ ở lệ quản, lệ quản chung","H04.5.4-Hẹp lệ bộ ở túi lệ","H04.9-Bệnh của lệ bộ, không xác định","H05.0.1-Áp xe hốc mắt","H05.0.2-Viêm tổ chức hốc mắt","H05.0.3-Viêm tủy xương hốc mắt","H05.0.4-Viêm màng xương hốc mắt","H05.0.5-Viêm bao gân của hốc mắt","H05.1.1-U hạt của hốc mắt","H05.2.1-Lệch nhãn cầu","H05.2.2-Tụ máu của hốc mắt (Xuất huyết của hốc mắt)","H05.2.3-Phù hốc mắt","H05.3.1-Teo hốc mắt","H05.3.2-Cạn cùng đồ","H05.8.1-Nang hốc mắt","H10.3-Viêm kết mạc cấp, không xác định","H10.9-Viêm kết mạc, không xác định","H11.1-Cặn lắng và thoái hoá kết mạc, sạn vôi","H11.2.1-Dính mi cầu","H11.3.1-Xuất huyết dưới kết mạc","H11.4.1-Phình mạch kết mạc","H11.4.2-Xung huyết kết mạc","H11.4.3-Phù kết mạc","H11.8-Bệnh xác định khác của kết mạc","H11.8.1-Mộng thịt giả","H11.9-Bệnh của kết mạc, không xác định","H13.1.1-Viêm kết mạc do Acanthamoeba","H13.1.2-Viêm kết mạc cấp do Adennoviruts","H13.1.3-Viêm kết mạc do Chlamydial","H13.1.4-Viêm kết mạc lậu hầu","H13.1.5-Viêm kết mạc xuất huyết","H13.1.6-Viêm kết mạc não mô cầu","H13.1.7-Viêm kết mạc do bệnh zona","H13.1.8-Viêm kết mạc do bạch hầu","H15-Bệnh của củng mạc","H16.0.1-Loét giác mạc trung tâm","H16.0.2-Loét giác mạc rìa","H16.0.3-Loét giác mạc thủng","H16.0.4-Loét giác mạc dạng vòng","H16.0.5-Loét giác mạc có mủ tiền phòng","H16.1.1-Viêm giác mạc dạng quầng","H16.1.2-Viêm giác mạc dạng sợi","H16.1.3-Viêm giác mạc dạng đồng tiền","H16.1.4-Viêm giác mạc dạng sao","H16.1.5-Viêm giác mạc dạng khía","H16.1.7-Viêm giác mạc do ánh sáng","H16.2.1-Viêm kết giác mạc do tiếp xúc","H16.2.2-Viêm kết giác mạc thần kinh dinh dưỡng","H16.2.3-Viêm kết giác mạc bọng","H16.2.4-Viêm giác mạc nông kèm theo viêm kết mạc","H16.2.5-Viêm kết giác mạc dạng nốt","H16.4-Tân mạch giác mạc","H16.4.1-Mạch máu rỗng giác mạc","H16.4.2-Màng máu giác mạc","H16.9-Viêm giác mạc không xác định","H17.8-Sẹo và đục giác mạc khác","H17.9-Sẹo và đục giác mạc, không xác định","H18.0.1-Giác mạc ngấm máu","H18.0.2-Vòng Kayser - Fleischer","H18.0.3-Hình thoi Krukenberg","H18.0.4-Đường Staehli","H18.3.1-Nếp gấp giác mạc","H18.3.2-Rách màng Descemet","H18.4.1-Vòng thoái hóa giác mạc tuổi già","H18.4.2-Bệnh giác mạc giải băng","H18.5.1-Loạn dưỡng giác mạc biểu mô","H18.5.2-Loạn dưỡng giác mạc dạng hạt","H18.5.3-Loạn dưỡng giác mạc dạng lưới","H18.5.4-Loạn dưỡng giác mạc dạng vết","H18.7.1-Giãn lồi giác mạc","H18.7.2-Phồng màng Descemet","H18.8.1-Mất cảm giác của giác mạc","H18.8.2-Giảm cảm giác của giác mạc","H18.8.3-Tróc biểu mô tái phát của giác mạc","H19.0.1-Viêm thượng củng mạc do giang mai","H19.0.2-Viêm thượng củng mạc do lao","H19.0.3-Viêm thượng củng mạc do zona","H19.1.1-Viêm giác mạc hình đĩa","H19.2.1-Viêm kết giác mạc dịch tễ","H19.2.2-Viêm Kết Mạc Và Giác Mạc Trong Nhiễm Acanthamoeba","H19.2.3-Viêm Kết Mạc Và Giác Mạc Trong Sởi","H19.2.4-Viêm Kết Mạc Và Giác Mạc Trong Giang Mai","H19.2.5-Viêm Kết Mạc Và Giác Mạc Trong Lao","H19.2.6-Viêm Kết Mạc Và Giác Mạc Trong Zona","H19.3.1-Viêm kết giác mạc khô","H19.8.1-Giác mạc hình chóp trong hội chứng Down","H20.0.1-Viêm màng bồ đào trước bán cấp","H20.0.2-Viêm màng bồ đào trước cấp","H20.0.3-Viêm màng bồ đào trước tái phát","H20.0.4-Viêm thế mi cấp","H20.0.5-Viêm thể mi tái phát","H20.0.6-Viêm thể mi bán cấp","H20.0.7-Viêm mống mắt cấp","H20.0.8-Viêm mống mắt tái phát","H20.0.9-Viêm mống mắt bán cấp","H20.9-Viêm mống mắt thể mi, không xác định","H21.0-Xuất huyết tiền phòng (không do chấn thương)","H21.1.1-Tân mạch mống mắt và thể mi","H21.1.2-Mống mắt đỏ","H21.2.1-Thoái hóa mống mắt","H21.2.2-Thoái hóa bờ đồng tử","H21.2.3-Mống mắt tách lớp","H21.2.4-Teo mống mắt","H21.2.5-Nang mống mắt gây co đồng tử","H21.2.6-Mống mắt thấu quang","H21.3.1-Nang mống mắt thể mi hoặc tiền phòng xuất tiết","H21.3.2-Nang mống mắt thể mi hoặc tiền phòng do vùi tế bào","H21.3.3-Nang mống mắt thể mi hoặc tiền phòng do ký sinh trùng","H21.4-Màng đồng từ","H21.4.1-Phồng mống mắt","H21.4.2-Đồng tử nghẽn","H21.4.3-Đồng tử dính bít","H21.5-Dính và đứt khác của mống mắt và thể mi (dính góc, lùi góc TP - đứt, tách chân mống mắt,...)","H21.5.1-Dính góc tiền phòng","H21.5.2-Tách chân mống mắt","H21.5.3-Lùi góc tiền phòng","H21.5.4-Dính mống mắt trước","H21.5.5-Dính mống mắt sau","H25-Đục Thể Thủy Tinh Người Già","H22.0.1-Viêm mống mắt thể mi trong nhiễm lậu cầu","H22.0.2-Viêm mống mắt thể mi trong nhiễm viruts Herpes","H22.0.3-Viêm mống mắt thể mi trong giang mai","H22.0.4-Viêm mống mắt thể mi trong lao","H22.0.5-Viêm Mống Mắt Thể Mi Bệnh Zona","H22.1.1-Viêm mống mắt thể mi trong viêm cứng cột sống","H22.1.2-Viêm mống mắt thể mi trong bệnh Sarcoid","H25.0.1-Đục Thể Thủy Tinh Người Già Lớp Vỏ Chu Vi","H25.0.2-Đục Thể Thủy Tinh Người Già Vùng Vỏ (cotical)","H25.0.3-Đục Thể Thủy Tinh Người Già Dạng Chấm","H25.0.4-Đục Thể Thủy Tinh Dưới Bao","H25.0.5-Đục Thể Thủy Tinh Dưới Bao Dạng Khe Nước (water Clefts)","H25.1.1-Đục Thể Thủy Tinh Nâu","H25.1.2-Đục Thể Thủy Tinh Xơ Cứng Nhân","H25.2.1-Đục Thể Thủy Tinh Tuổi Già Quá Chín","H25.8-Đục Thể Thủy Tinh Thể Người Già Khác","H25.9-Đục Thể Thủy Tinh Người Già Không Xác Định","H26-Đục thể thủy tinh khác","H26.0-Đục Thể Thủy Tinh Trẻ Em, Người Trẻ Và Trước Tuổi Già ( Loại Trừ Đục Thể Thủy Tinh Bẩm Sinh )","H26.2.1-Đục Thể Thủy Tinh Trong Viêm Mống Mắt Thể Mi Mạn","H26.2.2-Đục Thể Thủy Tinh Thứ Phát Sau Các Bệnh Của Mắt","H26.2.3-Vết đục thể thủy tinh do Glôcôm","H26.4.1-Đục Thể Thủy Tinh Thứ Phát","H26.4.2-Vòng Soemmering","H26.9-Đục Thể Thủy Tinh Không Xác Định Khác","H28.1.1-Đục Thể Thủy Tinh Trong Suy Cận Giáp","H28.2.1-Đục Thể Thủy Tinh Trong Tăng Trương Lực Cơ","H30.0-Viêm hắc võng mạc khu trú","H30.0.1-Viêm hắc mạc khu trú","H30.0.2-Viêm võng mạc khu trú","H30.0.3-Viêm võng hắc mạc khu trú","H30.1-Viêm hắc võng mạc lan tỏa","H30.1.1-Viêm hắc mạc lan tỏa","H30.1.2-Viêm võng mạc lan tỏa","H30.2.1-Viêm Pars plana","H30.8-Viêm hắc võng mạc khác","H30.8.1-Viêm màng bồ đào Vogt Koyanagi Harada","H31-Bệnh khác của hắc mạc","H31.0.1-Sẹo hoàng điểm, hậu cực sau viêm nhiễm, sau chấn thương","H31.0.2-Bệnh võng mạc do quan sát nhật thực","H31.1.1-Teo hắc mạc","H31.1.2-Xơ hóa hắc mạc","H31.2.2-Loạn dưỡng hắc mạc hình quầng trung tâm","H31.2.3-Loạn dưỡng hắc mạc trung tâm","H31.2.4-Teo hắc mạc hình xoắn di truyền","H31.3.1-Xuất huyết hắc mạc không xác định nguyên nhân","H31.3.2-Xuất huyết tống khứ","H31.8-Bệnh hắc mạc xác định khác","H31.9-Bệnh hắc mạc không xác định","H32-Bệnh hắc võng mạc trong các bệnh phân loại nơi khác","H32.0-Viêm hắc võng mạc trong bệnh nhiễm trùng và ký sinh","H32.0.1-Viêm hắc võng mạc do giang mai, muộn","H32.0.2-Viêm hắc võng mạc do Toxoplasma","H32.0.3-Viêm hắc võng mạc do lao","H32.8-Bệnh hắc võng mạc có nguyên nhân khác trong các bệnh phân loại nơi khác","H33-Bong và rách võng mạc","H33.1.1-Nang ora serata","H33.1.2-Nang ký sinh trùng của võng mạc","H33.1.3-Giả nang ở võng mạc","H33.2-Bong võng mạc xuất tiết (nội khoa)","H33.3.1-Vết rách hình móng ngựa","H33.3.2-Vết rách hình tròn","H33.3.3-Vết rách có nắp","H33.4-Bong võng mạc do co kéo","H33.4.1-Bệnh dịch kính võng mạc tăng sinh kèm theo bong võng mạc","H34-Tắc động mạch võng mạc","H34.2.1-Tắc động mạch võng mạc thuộc võng mạc ( nhánh; một phần )","H34.2.2-Tắc động mạch võng mạc khác do cục nghẽn nhỏ","H34.2.3-Tắc động mạch võng mạc có mảng nghẽn mạch ( mảng Hollenhost)","H34.8.1-Tắc tĩnh mạch võng mạc trung tâm","H34.8.4-Tắc nhánh tĩnh mạch võng mạc","H34.9-Tắc mạch võng mạc, không xác định","H35.0-Bệnh lý võng mạc sơ phát không tăng sinh và biến đổi mạch máu võng mạc","H35.0.1-Biến đổi hình dạng mạch máu võng mạc vi phình mạch (Phình vi mạch VM)","H35.0.2-Biến đổi hình dạng mạch máu võng mạc tân mạch (Tân mạch VM)","H35.0.3-Viêm Quanh Thành Mạch Võng Mạc","H35.0.4-Dãn tĩnh mạch võng mạc","H35.0.5-Lồng bao mạch võng mạc","H35.0.6-Viêm Mạch Máu Võng Mạc","H35.0.7-Viêm Võng Mạc Sơ Phát Kxđ","H35.0.8-Viêm Võng Mạc Xuất Tiết","H35.0.9-Bệnh lý võng mạc do cao huyết áp","H35.0.10-Bệnh Coats","H35.1.1-Xơ sản sau thể thủy tinh","H35.2.1-Bệnh lý dịch kính võng mạc tăng sinh không bong võng mạc","H35.3-Thoái hoá hoàng điểm và hậu cực","H35.3.1-Giả vân mạch võng mạc","H35.3.2-Nang của hoàng điểm","H35.3.3-Drusen của hoàng điểm","H35.3.5-Nếp gấp hoàng điểm (Màng trước võng mạc)","H35.3.6-Thoái hóa Kuhnt-Junius","H35.3.7-Thoái hóa hoàng điểm tuổi già (teo, xuất tiết)","H35.3.8-Bệnh lý hoàng điểm do nhiễm độc","H35.4-Thoái hoá võng mạc chu biên","H35.4.1-Thoái hóa võng mạc dạng mạng","H35.4.2-Thoái hóa võng mạc dạng vi nang","H35.4.3-Thoái hóa võng mạc dạng rào","H35.4.4-Thoái hóa võng mạc dạng lưới","H35.4.5-Thoái hóa võng mạc dạng đá lát","H35.5.1-Loạn dưỡng võng mạc chấm trắng (dạng lòng đỏ trứng )","H35.5.2-Thoái hóa sắc tố võng mạc (Loạn dưỡng võng mạc sắc tố)","H35.5.3-Thoái Hóa Hoàng Điểm Dạng Noãn Hoàng (bệnh Best)","H35.5.4-Loạn dưỡng biểu mô sắc tố võng mạc","H35.5.5-Loạn dưỡng dịch kính võng mạc","H35.5.6-Viêm Võng Mạc Sắc Tố","H35.7.2-Bong biểu mô sắc tố võng mạc","H35.9-Bệnh võng mạc không xác định","H36-Bệnh võng mạc trong các bệnh phân loại nơi khác","H36.0-Bệnh võng mạc do đái tháo đường (Bệnh võng mạc tiểu đường)","H36.8.1-Bệnh lý võng mạc do xơ vữa động mạch","H36.8.2-Bệnh võng mạc tăng sinh do hồng cầu liềm","H36.8.3-Loạn dưỡng võng mạc trong các bệnh tích tụ Lipid","H40.0.1-Tăng nhãn áp","H40.1.1-Glôcôm góc mở nguyên phát có giả bong bao T3","H40.1.2-Glôcôm mạn tính đơn thuần","H40.1.3-Glôcôm nhãn áp thấp","H40.1.4-Glôcôm sắc tố","H40.2.1-Glôcôm góc đóng cấp","H40.2.2-Glôcôm góc đóng mạn","H40.4.1-Glôcôm thể mi","H40.4.2-Glôcôm do viêm màng bồ đào","H40.5.1-Glôcôm do bệnh lý thể thủy tinh","H40.8-Glôcôm khác, các hình thái glôcôm đặc biệt","H40.9-Glôcôm, chưa xếp loại","H42.0.1-Glôcôm trong thoái hoá dạng tinh bột","H42.0.2-Glôcôm trong hội chứng Lower","H42.8-Glôcôm trong các bệnh phân loại nơi khác, glôcôm trong bệnh do giun Onchocerca","H43.3.1-Màng và dải sợi trong dịch kính","H43.8.1-Thoái hóa dịch kính","H43.8.2-Bong dịch kính","H43.9-Bệnh dịch kính, không xác định","H44.0.1-Viêm toàn nhãn","H44.0.2-Viêm Nội Nhãn Nội Sinh","H44.1.2-Nhãn viêm giao cảm","H44.3.1-Nhiễm đồng gây thoái hóa nhãn cầu","H44.3.2-Nhiễm sắt gây thoái hóa nhãn cầu","H44.5.1-Glôcôm tuyệt đối","H44.5.3-Tụt nhãn cầu","H44.6-Dị vật nội nhãn, có từ tính (cũ)","H44.6.1-Dị vật tiền phòng (có từ tính) (cũ)","H44.6.2-Dị vật thể mi (có từ tính) (cũ)","H44.6.3-Dị vật mống mắt (có từ tính) (cũ)","H44.6.4-Dị vật có từ tính trong thể thủy tinh (cũ)","H44.6.5-Dị vật có từ tính thành sau nhãn cầu (cũ)","H44.6.6-Dị vật có từ tính trong dịch kính (cũ)","H44.7-Dị vật nội nhãn, không từ tính (cũ)","H44.7.1-Dị vật không từ tính trong tiền phòng (cũ)","H44.7.2-Dị vật không từ tính trong thể mi (cũ)","H44.7.3-Dị vật không từ tính trong mống mắt (cũ)","H44.7.4-Dị vật không từ tính trong thể thủy tinh (cũ)","H44.7.5-Dị vật không từ tính thành sau nhãn cầu (cũ)","H44.7.6-Dị vật không từ tính trong dịch kính (cũ)","H44.8.1-Xuất Huyết Nội Nhãn","H44.9-Bệnh nhãn cầu, không xác định","H45.1.1-Viêm nội nhãn trong bệnh do ấu trùng sán dây","H45.1.2-Viêm nội nhãn trong bệnh do giun Onchecerca","H45.1.3-Viêm nội nhãn trong bệnh do giun Toxocara","H46-Viêm thị thần kinh","H46.1-Viêm thị thần kinh không do thiếu máu","H46.2-Viêm đĩa thị (gai thị)","H46.3-Viêm thị thần kinh hậu nhãn cầu","H47.0.1-Chèn ép thị thần kinh","H47.0.2-Xuất huyết trong bao thị thần kinh","H47.0.3-Bệnh lý thị thần kinh do thiếu máu cục bộ","H47.1-Phù gai, không xác định","H47.2-Teo thị thần kinh","H47.2.1-Bạc màu đĩa thị vùng thái dương","H47.3.1-Drusen đĩa thị","H47.3.2-Giả phù gai","H47.4-Tổn thương giao thoa thị giác","H47.5-Tổn thương đường thị giác","H47.5.1-Tổn thương dải thị giác, thể gối ngoài và tia thị giác","H47.6-Tổn thương vỏ não thị giác","H47.7-Tổn thương thị giác, không xác định","H48.0-Teo thị thần kinh trong các bệnh phân loại nơi khác","H48.0.1-Teo thị thần kinh trong giang mai muộn","H48.1-Viêm thị thần kinh hậu nhãn cầu trong các bệnh phân loại nơi khác","H48.1.1-Viêm thị thần kinh hậu nhãn cầu trong giang mai muộn","H48.1.2-Viêm thị thần kinh hậu nhãn cầu trong nhiễm não mô cầu","H48.1.3-Viêm thị thần kinh hậu nhãn cầu trong xơ cứng rải rác","H49.0-Liệt dây thần kinh số III","H49.1-Liệt dây thần kinh số IV","H49.2-Liệt dây thần kinh số VI","H49.4-Liệt vận nhãn (ngoài) tiến triển","H49.9-Liệt vận nhãn không xác định","H50.0.1-Lác trong","H50.1.1-Lác ngoài","H50.3-Lác luân hồi","H50.4.1-Lác xoáy","H50.4.2-Lác trên","H50.4.3-Lác dưới","H50.5.1-Lác luân phiên","H50.5.2-Lác trong ẩn","H50.5.3-Lác ngoài ẩn","H50.6-Lác cơ học","H50.6.1-Hội chứng bao cơ Brown","H50.6.2-Lác do dính","H50.6.3-Hạn chế hoạt động cơ do chấn thương","H50.8.1-Hội chứng Duane","H50.9-Lác, không xác định","H51.9-Rối loạn vận nhãn hai mắt, không xác định","H52.5.1-Liệt vận nhãn nội tại hoàn toàn","H52.5.2-Co quắp điều tiết","H52.7-Rối loạn khúc xạ, không xác định","H53.0-Nhược thị do không nhìn","H53.0.1-Nhược thị do lệch khúc xạ","H53.0.2-Nhược thị do che mắt","H53.0.3-Nhược thị do lác","H53.1.1-Mỏi mắt","H53.1.2-Mù ban ngày","H53.1.4-Sợ ánh sáng","H53.1.5-Ám điểm nhấp nháy","H53.1.6-Giảm thị lực đột ngột","H53.1.7-Biến dạng hình mi","H53.1.8-Quầng mầu sắc","H53.2-Song thị","H53.3.1-Tương ứng võng mạc bất thường","H53.3.2-Hợp thị không có phù thị","H53.3.3-Ức chế thị giác hai mắt","H53.3.4-Đồng thị không có hợp thị","H53.4.1-Điểm mù rộng ra","H53.4.2-Hẹp toàn bộ thị trường","H53.4.3-Bán manh dị danh (đồng danh)","H53.4.4-Ám điểm góc tư","H53.4.5-Ám điểm hình cung","H53.4.6-Ám điểm Bjerrum","H53.4.7-Ám điểm trung tâm","H53.4.8-Ám điểm hình vòng","H53.5.1-Mù màu toàn bộ","H53.5.2-Mù màu mắc phải","H53.5.3-Mù màu","H53.5.4-Nhìn kém màu xanh","H53.5.5-Mù màu xanh","H53.5.6-Nhìn kém màu đỏ","H53.5.7-Mù màu đỏ","H53.5.8-Nhìn kém ba màu","H53.9-Rối loạn thị giác, không xác định","H54.0-Mù hai mắt","H54.1-Mù một mắt, khiếm thị mắt kia","H54.7-Mất thị lực, không xác định","H55-Rung giật nhãn cầu và rối loạn vận nhãn khác","H55.1-Rung giật nhãn cầu bẩm sinh","H55.2-Rung giật nhãn cầu không nhìn","H55.3-Rung giật nhãn cầu phân ly hai mắt","H55.4-Rung giật nhãn cầu tiềm tàng","H57.8-Các bệnh xác định khác của mắt và phần phụ","H58.0.1-Đồng tử Argyll Robertson do bệnh giang mai","H58.8.1-Bệnh mắt do giang mai","H59.8.1-Sẹo hắc võng mạc sau mổ bong võng mạc","Q14.0-Dị tật bẩm sinh dịch kính","Q14.0.1-Đục dịch kính bẩm sinh","Q14.2-Dị tật bẩm sinh đĩa thị giác, khuyết đĩa thị giác","S04.0.1-Tổn Thương Giao Thoa Thị Giác","S04.0.2-Tổn Thương Dây Thần Kinh Số II (chấn Thương)","S04.0.3-Tổn Thương Vỏ Não Thị Giác (chấn Thương)","S04.1-Tổn thương dây thần kinh số III","S04.2-Tổn thương dây thần kinh số IV","S04.3-Tổn thương dây thần kinh kinh số V","S04.4-Tổn thương dây thần kinh số VI","S04.5-Tổn thương dây thần kinh thính giác số VII","S05-Chấn thương mắt và ổ mắt","S05.0-Chấn thương rách lớp giác mạc, rách kết mạc","S05.2-Chấn thương vỡ nhãn cầu phòi kẹt, mất tổ chức nội nhãn","S05.3-Chấn thương vỡ nhãn cầu không phòi kẹt tổ chức nội nhãn, rách giác mạc tự liền","S05.4-Chấn thương hốc mắt có hay không có dị vật","S05.5-Vết Thương Xuyên Nhãn Cầu Có Dị Vật Nội Nhãn","S05.6-Vết Thương Xuyên Nhãn Cầu Không Có Dị Vật Nội Nhãn","S05.7-Chấn thương đã bỏ nhãn cầu, đã múc nội nhãn","S05.8.1-Chấn thương rách mi đứt lệ quản","T15.1-Dị vật kết mạc","T26.1-Bỏng kết mạc, giác mạc độ I, II","T26.2-Bỏng kết giác mạc độ III, IV","T26.6-Ăn mòn tại giác mạc và túi kết mạc","T85-Biến chứng của thiết bị nhân tạo, cấy ghép (Thải loại ghép)","T85.2-Biến chứng cơ học của IOL","T85.3-Thải Ghép Giác Mạc","Z96.1-Đã đặt IOL","Z97.0-Mắt giả, tồn tại mắt nhân tạo","Z01.1-Bình thường (Kiểm tra mắt và thị lực)","Q10.0-Sụp mi bẩm sinh","S05.0.1-Chấn thương rách lớp giác mạc","S05.8.3-Chấn thương đứt lệ quản","S05.8.2-Chấn thương rách mi","S05.0.2-Chấn thương rách kết mạc","S05.1.2-Chấn thương xuất huyết tiền phòng","S05.1.1-Chấn thương đụng dập nhãn cầu","H19.1.2-Viêm giác mạc hình cành cây","G24.5-Co thắt mi (Blepharospasm)","C49.0-Ung Thư Mô Liên Kết, Mô Mềm Của Mi","H26.0.2-Đục Thể Thủy Tinh Bệnh Lý Trước Tuổi Già ( Loại Trừ Đục Thể Thủy Tinh Bẩm Sinh )","H26.0.1-Đục Thể Thủy Tinh Trẻ Em ( Loại Trừ Đục Thể Thủy Tinh Bẩm Sinh )","H30.9.1-Viêm màng bồ đào sau","C72.3-Ung thư thị thần kinh","H02.5.4-Sẹo mi","S05.0.3-Chấn thương xước giác mạc","Q10.2-Quặm bẩm sinh","Z94.7-Đã Ghép Giác Mạc","H40-Glôcôm","S05.1.4-Chấn thương đụng dập tổ chức hốc mắt (tụ máu mi, tụ máu hốc mắt...)","T15.0.1-Dị vật giác mạc nông","T15.0.2-Dị vật giác mạc sâu","Q10.2.0-Quặm mi","C69.5.0-U Tuyến Lệ","A18.5.1-Lao kết mạc","A18.5.2-Lao giác mạc","A18.5.3-Lao thượng củng mạc","A18.5.4-Viêm Màng Bồ Đào Do Lao","C44.1.1-Ung Thư Biểu Mô Đáy","C44.1.2-Ung Thư Biểu Mô Vảy","C69.0.1-Ung Thư Biểu Mô Tế Bào Vảy","C69.0.2-U Hắc Tố Ác Tính","C69.5.1-Ung Thư Tuyến Lệ","C69.5.2-Ung Thư Túi Lệ","C69.5.3-Ung Thư Ống Lệ Mũi","D31.1.1-U Bì Kết Giác Mạc","D31.1.2-U Bì Mỡ Kết Giác Mạc","D31.6.1-U Lành Mô Liên Kết Hốc Mặt","D31.6.2-U Lành Cơ Ngoại Nhãn Cầu","D31.6.3-U Lành Thần Kinh Ngoại Biên Hốc Mắt","D31.6.4-U Lành Tổ Chức Hậu Nhãn Cầu","H01.1.1-Viêm Da Mi Dị Ứng","H01.1.2-Viêm Da Mi Tiếp Xúc","H01.1.3-Chàm da mi","H04.5.5-Xơ Chít Điểm Lệ","H10.4.1-Viêm Kết Mạc Dị Ứng","H11.1.1-Sạn vôi kết mạc","H11.1.2-Nhiễm sắc tố kết mạc (Nốt ruồi kết mạc)","H11.1.3-Nhiễm bạc kết mạc","H13.1.9-Viêm Kết Mạc do Herpes","H18.5.5-Loạn dưỡng giác mạc Fuchs","H25.1.3-Đục Thể Thủy Tinh Hoàn Toàn (đục Chín)","H35.5.7-Bệnh Stargardt","H40.0.2-Nghi ngờ glôcôm góc mở","H40.0.3-Nghi ngờ glôcôm góc đóng","H44.0.3-Viêm Nội Nhãn Ngoại Sinh Sau Chấn Thương","H44.0.4-Viêm Nội Nhãn Ngoại Sinh Sau Phẫu Thuật","H59.8.2-Xẹp Tiền Phòng Sau Mổ Glôcôm","H59.8.3-Bong hắc mạc","H59.8.5-Sẹo bọng quá phát","H59.8.6-Rò sẹo bọng","H59.8.7-Nhiễm trùng sẹo bọng","Q10.3-Các dị tật mi mắt bẩm sinh","Q10.3.1-Không có mi mắt","Q10.3.2-Hẹp khe mi bẩm sinh","Q10.3.3-Khuyết mi mắt bẩm sinh","Q10.3.4-Dị tật bẩm sinh không xác định khác ở mi mắt","Q10.4-Không có điểm lệ","Q10.5-Hẹp, chít hẹp ống dẫn lệ bẩm sinh","Q10.6-Các dị tật bẩm sinh khác của ống dẫn lệ","Q10.7-Dị tật bẩm sinh hốc mắt","Q11.0-Nhãn cầu dạng túi","Q11.1-Các dị tật không có mắt khác","Q11.2-Dị tật mắt bé","Q11.2.1-Tật Mắt Ẩn","Q11.3-Dị tật mắt to","Q12.1-Lệch thể thủy tinh bẩm sinh","Q12.2-Khuyết thể thủy tinh","Q12.3-Thiếu Thể Thủy Tinh Bẩm Sinh","Q12.4-Thể Thủy Tinh Hình Cầu","Q12.8-Các dị tật bẩm sinh khác của thể thủy tinh","Q13.0-Tật khuyết mống mắt","Q13.2-Các dị tật bẩm sinh khác của mống mắt (Đồng tử lạc chỗ...)","H27.2-Sót chất nhân sau phẫu thuật thể thủy tinh","H27.3-Đã Mổ Lấy Thể Thủy Tinh (trong Bao, Ngoài Bao)","H27.4-Rơi mảnh nhân vào dịch kính trong phẫu thuật phaco","H36.1-Bệnh võng mạc do thai nghén","H36.2-Bệnh võng mạc do cao huyết áp","H36.3-Bệnh võng mạc do thận","H44.0.5-Áp xe dịch kính","H53.1.3-Quáng gà","H59.8.4-Glôcôm ác tính","Q13.1-Tật Không Có Mống Mắt","Q10.1-Lật mi bẩm sinh","Q11.2.2-Dị tật mắt nhỏ (Loạn sản, thiểu sản…)"
];
var ICD_BENH = TENBENH.map(function(str, index){
 var parts = str.split('-');
 return {
  icd : parts[0],
  name: parts[1]
 }
});
    //javascript create JSON object from two dimensional Array
    function arrayToJSONObject(arr) {
      //header
      var keys = arr[0];

      //vacate keys from main array
      var newArr = arr.slice(1, arr.length);

      var formatted = [],
        data = newArr,
        cols = keys,
        l = cols.length;
      for (var i = 0; i < data.length; i++) {
        var d = data[i],
          o = {};
        for (var j = 0; j < l; j++)
          o[cols[j]] = d[j];
        formatted.push(o);
      }
      return formatted;
    }

    function encodeJson(arr) {
      return JSON.stringify(arr);
    }

    $(document).ready(function () {
      $('.menu .item').tab();

      $('#myInput').dtDateTime(
        {
          locale: 'vi',
        }
      );

      //test bảng danh sách bệnh nhân
      var table2 = $('#example2').DataTable({
        scrollY: 500,
        scrollX: true,
        rowReorder: true,
        responsive: true,
        columnDefs: [
          { orderable: false, targets: 0 }
        ],
        language: {
          lengthMenu: '',
          url: 'https://raw.githubusercontent.com/drthinh/drthinh/master/vi.json'
        }
      }
      );


      var table_diagnose = $('#diagnose').DataTable({
        dom: 'Bfrtilp',
        rowReorder: true,
        searching: false, paging: false, info: false,
        columnDefs: [
          { orderable: false, targets: 0 },
          { //Ẩn nội dung cột 5 mang thông tin mã hoá chẩn đoán
            target: 5,
            visible: false,
            searchable: false,
          },
        ],
        buttons: [
          {
            className: 'mini ui button green',
            text: '<i class="plus icon"></i>Thêm',
            action: function (e, dt, node, config) {
              $('.ui.modal.add').modal({
                onDeny: function () {

                },
                onApprove: function () {
                  var new_row = [
                    table_diagnose.rows().count() + 1,
                    $('.ui.modal.add').find('.code').text(),
                    $('.ui.modal.add').find('.name').val(),
                    $('.ui.modal.add').find('.number').val(),
                    $('.ui.modal.add').find('.unit').text(),
                    $('.ui.modal.add').find('.usage').val()
                  ];
                  new_row.push(encodeJson(new_row));

                  table_diagnose.row.add(new_row).draw(false);

                  $('.message.adddrug .header').html('Đã thêm thuốc');
                  $('.message.adddrug .content').html('Thuốc: Mã ' + $('.ui.modal.add').find('.code').text() + ' : ' + $('.ui.modal.add').find('.name').val());
                  if ($('.message.adddrug').hasClass('hidden')) {
                    $('.message.adddrug').removeClass('hidden');
                  }
                  $('.ui.modal.add').find('.code').text('');
                  $('.ui.modal.add').find('.name')[0].selectize.clear();
                  $('.ui.modal.add').find('.number').val('');
                  $('.ui.modal.add').find('.unit').text('');
                  $('.ui.modal.add').find('.usage')[0].selectize.clear();

                  var temp = table_diagnose.data().toArray();
                  temp.unshift(['index', 'code', 'name', 'number', 'unit', 'usage', 'encoded']);
                  console.log(arrayToJSONObject(temp));

                  return false;
                }
              }).modal('show');
            },
          },
          {
            className: 'mini ui button blue',
            text: '<i class="edit icon"></i>Sửa',
            action: function (e, dt, node, config) {
              var the_row = table_diagnose.row('.selected');
              var data = JSON.parse(the_row.data()[6]);

              $('.ui.modal.modify').find('.code').text(data[1]);
              $('.ui.modal.modify').find('.name')[0].selectize.setValue(data[2]);
              $('.ui.modal.modify').find('.number').val(data[3]);
              $('.ui.modal.modify').find('.unit').text(data[4]);
              $('.ui.modal.modify').find('.usage').val(data[5]);

              $('.ui.modal.modify').modal({
                onDeny: function () {

                },
                onApprove: function () {
                  $('.message.modifydrug .header').html('Đã sửa thuốc');
                  $('.message.modifydrug .content').html('Thuốc: Mã ' + the_row.data()[1] + ' : ' + the_row.data()[2]);
                  if ($('.message').hasClass('hidden')) {
                    $('.message').removeClass('hidden');
                  }
                }
              }).modal('show');
            }
          },
          {
            className: 'mini ui button red',
            text: '<i class="trash icon"></i>Xoá',
            action: function (e, dt, node, config) {
              var the_row = table_diagnose.row('.selected');
              $('.ui.modal.delete').modal({
                onDeny: function () {

                },
                onApprove: function () {
                  $('.message.drug .header').html('Đã xoá thuốc');
                  $('.message.drug .content').html('Thuốc: Mã ' + the_row.data()[1] + ' : ' + the_row.data()[2]);
                  if ($('.message').hasClass('hidden')) {
                    $('.message').removeClass('hidden');
                  }
                  the_row.remove().draw(false);
                }
              }).modal('show');
            },
          },
        ],
        language: {
          lengthMenu: '',
          url: 'https://raw.githubusercontent.com/drthinh/drthinh/master/vi.json'
        },
      }
      );

      var table = $('#example').DataTable({
        dom: 'Bfrtip',
        rowReorder: true,
        searching: false,
        columnDefs: [
          { orderable: false, targets: 0 },
          { //Ẩn nội dung cột 6 mang thông tin mã hoá cách dùng thuốc
            target: 6,
            visible: false,
            searchable: false,
          },
        ],
        buttons: [
          {
            className: 'mini ui button green',
            text: '<i class="plus icon"></i>Thêm',
            action: function (e, dt, node, config) {
              $('.ui.modal.add').modal({
                onDeny: function () {

                },
                onApprove: function () {
                  var new_row = [
                    table.rows().count() + 1,
                    $('.ui.modal.add').find('.code').text(),
                    $('.ui.modal.add').find('.name').val(),
                    $('.ui.modal.add').find('.number').val(),
                    $('.ui.modal.add').find('.unit').text(),
                    $('.ui.modal.add').find('.usage').val()
                  ];
                  new_row.push(encodeJson(new_row));

                  table.row.add(new_row).draw(false);

                  $('.message.adddrug .header').html('Đã thêm thuốc');
                  $('.message.adddrug .content').html('Thuốc: Mã ' + $('.ui.modal.add').find('.code').text() + ' : ' + $('.ui.modal.add').find('.name').val());
                  if ($('.message.adddrug').hasClass('hidden')) {
                    $('.message.adddrug').removeClass('hidden');
                  }
                  $('.ui.modal.add').find('.code').text('');
                  $('.ui.modal.add').find('.name')[0].selectize.clear();
                  $('.ui.modal.add').find('.number').val('');
                  $('.ui.modal.add').find('.unit').text('');
                  $('.ui.modal.add').find('.usage')[0].selectize.clear();

                  var temp = table.data().toArray();
                  temp.unshift(['index', 'code', 'name', 'number', 'unit', 'usage', 'encoded']);
                  console.log(arrayToJSONObject(temp));

                  return false;
                }
              }).modal('show');
            },
          },
          {
            className: 'mini ui button blue',
            text: '<i class="edit icon"></i>Sửa',
            action: function (e, dt, node, config) {
              var the_row = table.row('.selected');
              var data = JSON.parse(the_row.data()[6]);

              $('.ui.modal.modify').find('.code').text(data[1]);
              $('.ui.modal.modify').find('.name')[0].selectize.setValue(data[2]);
              $('.ui.modal.modify').find('.number').val(data[3]);
              $('.ui.modal.modify').find('.unit').text(data[4]);
              $('.ui.modal.modify').find('.usage').val(data[5]);

              $('.ui.modal.modify').modal({
                onDeny: function () {

                },
                onApprove: function () {
                  $('.message.modifydrug .header').html('Đã sửa thuốc');
                  $('.message.modifydrug .content').html('Thuốc: Mã ' + the_row.data()[1] + ' : ' + the_row.data()[2]);
                  if ($('.message').hasClass('hidden')) {
                    $('.message').removeClass('hidden');
                  }
                }
              }).modal('show');
            }
          },
          {
            className: 'mini ui button red',
            text: '<i class="trash icon"></i>Xoá',
            action: function (e, dt, node, config) {
              var the_row = table.row('.selected');
              $('.ui.modal.delete').modal({
                onDeny: function () {

                },
                onApprove: function () {
                  $('.message.drug .header').html('Đã xoá thuốc');
                  $('.message.drug .content').html('Thuốc: Mã ' + the_row.data()[1] + ' : ' + the_row.data()[2]);
                  if ($('.message').hasClass('hidden')) {
                    $('.message').removeClass('hidden');
                  }
                  the_row.remove().draw(false);
                }
              }).modal('show');
            },
          },
        ],
        language: {
          lengthMenu: '',
          url: 'https://raw.githubusercontent.com/drthinh/drthinh/master/vi.json'
        },
      }
      );



      $('#example tbody').on('click', 'button.red', function () {
        var the_row = table.row($(this).parents('tr'));
        var data = the_row.data();
        $('.ui.modal.delete').modal({
          onDeny: function () {

          },
          onApprove: function () {
            the_row.remove().draw(false);
          }
        }).modal('show');
        console.log(data);
      });

      $('#example tbody').on('click', 'button.blue', function () {
        var data = table.row($(this).parents('tr')).data();
        /* $('#myDialog').remove()
        $('body').append('<div class="ui modal" id = "myDialog"><div class="header">'+data[6]+'</div></div>'); 
        $("#myDialog").modal({
            blurring: true,
            observeChanges: true,
            transition: 'scale',
        }).modal('show') */

        $('.ui.modal.modify')
          .modal({
            onShow: function (callback) {
              var $content = $(this).find('.header');
              $content.html(data[6]);
            }
          }).modal('show')

      });

      $('#example2 tbody').on('click', 'tr', function () {
        if ($(this).hasClass('selected')) {
          $(this).removeClass('selected');
        } else {
          table2.$('tr.selected').removeClass('selected');
          $(this).addClass('selected');
          console.log(table2.row(this).data());
          var x = table2.row(this).data();
          //x[0] = 'test';
          //table.row(this).data(x).draw();
        }
      });

      $('#example tbody').on('click', 'tr', function () {
        if ($(this).hasClass('selected')) {
          $(this).removeClass('selected');
        } else {
          table.$('tr.selected').removeClass('selected');
          $(this).addClass('selected');

          //Bước này có thể dùng để thay đổi dữ liệu của dòng
          var x = table.row(this).data();
        }
      });

      $('#diagnose tbody').on('click', 'tr', function () {
        if ($(this).hasClass('selected')) {
          $(this).removeClass('selected');
        } else {
          table_diagnose.$('tr.selected').removeClass('selected');
          $(this).addClass('selected');

          //Bước này có thể dùng để thay đổi dữ liệu của dòng
          var x = table_diagnose.row(this).data();
        }
      });

      //Giải quyết triệt để bài toán sắp xếp lại thứ tự thuốc sau khi đã thay đổi thứ tự dùng thuốc cũng như xoá các thuốc
      //Thậm chí không cần cung cấp dữ liệu cột STT mà được tạo tự động luôn
      table.on('order.dt search.dt', function () {
        let i = 1;
        table.cells(null, 0, { search: 'applied', order: 'applied' }).every(function (cell) {
          this.data(i++);
        });
      }).draw();


      table_diagnose.on('order.dt', function () {
        let i = 1;
        table_diagnose.cells(null, 0, { search: 'applied', order: 'applied' }).every(function (cell) {
          this.data(i++);
        });
      }).draw();



        $('.message .close')
          .on('click', function () {
            $(this)
              .closest('.message')
              .transition('fade')
              ;
          })
          ;

        $('.ui.modal.add .name').selectize({
          maxItems: 1,
          valueField: 'title',
          labelField: 'title',
          searchField: 'title',
          plugins: ['remove_button'],
          options: [
            { id: 1, title: 'Thuốc 1' },
            { id: 2, title: 'thuốc 2' },
            { id: 3, title: 'thuốc 3' }
          ],
          create: false,
          openOnFocus: false
        });

        $('.ui.modal.add .position').selectize({
          maxItems: 1,
          valueField: 'title',
          labelField: 'title',
          searchField: 'title',
          options: [
            { id: 1, title: '2M', },
            { id: 2, title: 'MP' },
            { id: 3, title: 'MT' }
          ],
          create: function (input) {
            return {
              value: input,
              text: input,
            };
          },
          openOnFocus: false
        });

        $('.ui.modal.add .usage').selectize({
          maxItems: 1,
          valueField: 'title',
          labelField: 'title',
          searchField: 'title',
          options: [
            { id: 1, title: 'Tra' },
            { id: 2, title: 'Bôi' },
            { id: 3, title: 'Uống' }
          ],
          create: function (input) {
            return {
              value: input,
              text: input,
            };
          },
          openOnFocus: false
        });


        $('.ui.modal.modify .name').selectize({
          maxItems: 1,
          valueField: 'title',
          labelField: 'title',
          searchField: 'title',
          plugins: ['remove_button'],
          options: [
            { id: 1, title: 'Thuốc 1' },
            { id: 2, title: 'thuốc 2' },
            { id: 3, title: 'thuốc 3' }
          ],
          create: false,
          openOnFocus: false
        });

        $('.ui.modal.modify .position').selectize({
          maxItems: 1,
          valueField: 'title',
          labelField: 'title',
          searchField: 'title',
          options: [
            { id: 1, title: '2M', },
            { id: 2, title: 'MP' },
            { id: 3, title: 'MT' }
          ],
          create: function (input) {
            return {
              value: input,
              text: input,
            };
          },
          openOnFocus: false
        });

        $('.ui.modal.modify .usage').selectize({
          maxItems: 1,
          valueField: 'title',
          labelField: 'title',
          searchField: 'title',
          options: [
            { id: 1, title: 'Tra' },
            { id: 2, title: 'Bôi' },
            { id: 3, title: 'Uống' }
          ],
          create: function (input) {
            return {
              value: input,
              text: input,
            };
          },
          openOnFocus: false
        });

        $('.visualacurity').selectize({
          maxItems: 1,
          valueField: 'item',
          labelField: 'item',
          searchField: 'item',
          options: THILUC.map(function (x) { return { item: x }; }),
          create: false,
          openOnFocus: false
        });


      });


  </script>
</body>

</html>
