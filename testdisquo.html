<!DOCTYPE html>
<html>
<head>
	<title>Test image points</title>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="https://cdn.metroui.org.ua/v4.3.2/css/metro-all.min.css">
    <script src="https://cdn.metroui.org.ua/v4.3.2/js/metro.min.js"></script>
<script
  src="https://code.jquery.com/jquery-2.2.4.min.js"
  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
  crossorigin="anonymous"></script>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
this.page.url = "drthinh.github.io";  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = "123"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://drthinh.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
</head>
<body>

<div class="img-container">
    <img id = "test" src="IMG_20190722_105803.jpg"/>
</div>
	

<script type="text/javascript">
	$.fn.addNotes = function(notes){
    var $img = $(this);
    var pos = $img.position();
    var w = $img.outerWidth();
    var h = $img.outerHeight();
    console.log(w +" ? "+ this.naturalHeight);
    console.log(h +" ? "+ this.height());
    var offsetX = pos.left;
    var offsetY = pos.top;
    var $imgparent = $img.parent();
    $imgparent.on('mouseenter','.point', function(){
        $(this).next('.note').show();
    }).on('mouseout', '.point', function(){
       $(this).next('.note').hide(); 
    });
    $.each(notes, function(idx,note){
        var $point = $('<div/>').addClass('point').css({
            position:'absolute',
            left: (Number(offsetX)+note.pos.x)+'px',
            top: (Number(offsetY)+note.pos.y)+'px',
            width: '10px',
            height: '10px',
            borderRadius: '10px',
            background:'#f00'
        });
        var $note = $('<div/>').addClass('note').html(note.note).css({
            position:'absolute',
            left: 15+(Number(offsetX)+note.pos.x)+'px',
            top: (Number(offsetY)+note.pos.y)+'px',
            background:'#fff',
            padding:'5px'
        }).hide();
       $img.after($point); 
       $point.after($note);
    });
};

var notes = [
    { pos: { x: 100, y: 100 }, note: 'Hello world!' },
    { pos: { x: 200, y: 100 }, note: 'Hello Harry!' },
    { pos: { x: 100, y: 200 }, note: 'Hello Ron!' },
    { pos: { x: 300, y: 300 }, note: 'Hello Hermione!' }
];

$('#test').addNotes(notes);
</script>
<div id="disqus_thread"></div>

<script id="dsq-count-scr" src="//drthinh.disqus.com/count.js" async></script>
</body>
</html>
